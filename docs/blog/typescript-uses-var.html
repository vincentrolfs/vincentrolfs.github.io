







<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Why the TypeScript compiler developers use "var" instead of "const"</title>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Blog of Vincent Rolfs.
        Vincent is a freelance Software Engineer and IT-Consultant.
        He has more than ten years experience in developing complex applications on the web." />
    

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@400;900&display=swap"
      rel="stylesheet"
    />
    <link href="/styles/main.css" rel="stylesheet" />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/img/icons/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/img/icons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/img/icons/favicon-16x16.png"
    />
    <link rel="manifest" href="/img/icons/site.webmanifest" />
    <link
      rel="mask-icon"
      href="/img/icons/safari-pinned-tab.svg"
      color="#80232E"
    />
    <link rel="shortcut icon" href="/img/icons/favicon.ico" />
    <meta name="msapplication-TileColor" content="#b91d47" />
    <meta name="msapplication-config" content="/img/icons/browserconfig.xml" />
    <meta name="theme-color" content="#ffffff" />

    

    <script
      data-goatcounter="https://vincentrolfs.goatcounter.com/count"
      async
      src="//gc.zgo.at/count.js"
    ></script>

    
  </head>
  <body>
    <div id="blackness"></div>

    <div id="wrapper">
      <div id="logo">
  <a href="/">
    <img
      src="/img/vincent-circle.png"
      alt="A picture of Vincent Rolfs"
      width="100"
    />
  </a>
</div>

<div id="caption">
  <div id="caption-wrap">
    <a href="/">
      <h1>Vincent Rolfs</h1>

      <div>Software Engineer</div>
    </a>
  </div>

  <hr />
</div>

<nav>
  <a
    class=""
    href="/"
  >
    About me
  </a>
  <a
    class=""
    href="/my-work"
  >
    My work</a
  >
  <a
    class=""
    href="/blog"
  >
    Blog
  </a>
  <a
    class=""
    href="/contact"
  >
    Contact
  </a>
</nav>


      <main>
<h2 class="with-sub">Why the TypeScript compiler developers use "var" instead of "const"</h2>
<div class="subcaption">
  August 11, 2023
  <span id="viewcount"></span>
</div>

<script>
  "use strict";

  const slug = "typescript-uses-var";
  const request = new XMLHttpRequest();

  request.addEventListener("load", function () {
    document.querySelector("#viewcount").innerHTML =
      " &ndash; " + JSON.parse(this.responseText).count + " views";
  });

  request.open(
    "GET",
    "https://vincentrolfs.goatcounter.com/counter/" +
      encodeURIComponent("/blog/" + slug) +
      ".json?" +
      +Date.now()
  );
  
  request.send();
</script>




<p>
  Watching software engineering best practices progress over the years is
  strange to me. I always feel like our profession is so young, so un-optimized
  compared to other disciplines. Every four to five years there seems to come a
  new way of writing code where most people say - this is obviously better than
  than what we did before, why haven't we always done this?
</p>

<p>
  One example of this is having a culture of preferring constant variables
  [[oxymoron?]] to reassignable variables. const was introduced to JS developers
  with ECMAScript 2015, and nowadays most new projects seem to default to const
  instead of let or var. The benefits are clear: Most variables do not need to
  be reassigned, so by choosing const by default, developers prevent accidental
  modifications of variables, and at the same time make those variables that
  should be modified stand out more. JavaScript linters like eslint [[+more]]
  show a warning per default if the devloper does not use const for a variable
  whose value does not change [[check?]].
</p>

<p>
  What was surprising to me, then, was to find out that the codebase of the
  TypeScript compiler (which is itself written in TypeScript) does not use const
  for constant variables in many places. In fact, it doesn't even use let, it
  uses var, the antiquated variable declaration keyword which is normally
  nowhere to be found in modern JavaScript. You would think that the TypeScript
  developers know their stuff, and there doesn't really seem to be a good reason
  not to default to const, or at the very least let. Of course, they do have a
  good reason - it relates to performance, and to understand it we have to dig a
  bit deeper into variable declaration JavaScript.
</p>

<h3>How to declare a variable in four easy ways</h3>

<p>
  In modern JavaScript (and of course also in TypeScript), we generally have
  four ways to declare a variable, ordered here from most to least unusual:
</p>

<ul>
  <li>password = "hunter2"</li>
  <li>var password = "hunter2"</li>
  <li>let password = "hunter2"</li>
  <li>const password = "hunter2"</li>
</ul>

<p><em>The crazy option: Declaring without a keyword</em></p>
<p>
  If you put the following code into a script tag in your website, it will work
  without problems:
  <code> xyz = 123; console.log(xyz); </code>
  Welcome to JavaScript development! If you are not using
  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode" target="_blank" rel="noopener noreferrer">
  strict mode
</a>
  (and strict mode isn't the default), then you always have the ability to
  create and modify global variables willy-nilly by referring to them without
  prior declaration. Needless to say that this practice should be avoided, and
  you should be using strict mode whenever possible.
</p>



<div class="divider">
  <hr />
</div>

<p>
  Discuss this article on
  <a href="" target="_blank" rel="noopener">Reddit</a>
  or
  <a href="" target="_blank" rel="noopener"
    >Hacker News</a
  >.
</p>

<p>
  Feel free to email me at
  <a href="mailto:vincent.rolfs@gmail.com">vincent.rolfs@gmail.com</a>. Or you
  can follow me on Mastodon at
  <a href="https://hachyderm.io/@vincentrolfs" target="_blank" rel="noopener"
    >@vincentrolfs@hachyderm.io</a
  >.
</p>
</main>
    </div>
  </body>
</html>


